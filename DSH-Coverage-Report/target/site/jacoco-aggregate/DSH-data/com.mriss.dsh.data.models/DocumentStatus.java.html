<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../../jacoco-resources/report.gif" type="image/gif"/><title>DocumentStatus.java</title><link rel="stylesheet" href="../../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../../index.html" class="el_report">DSH Coverage Report Aggregation Module</a> &gt; <a href="../index.html" class="el_bundle">DSH-data</a> &gt; <a href="index.source.html" class="el_package">com.mriss.dsh.data.models</a> &gt; <span class="el_source">DocumentStatus.java</span></div><h1>DocumentStatus.java</h1><pre class="source lang-java linenums">package com.mriss.dsh.data.models;

<span class="fc" id="L3">public enum DocumentStatus {</span>
	
<span class="fc" id="L5">	CREATED(&quot;CREATED&quot;, &quot;Document created and stored at the database.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L8">			return QUEUED_FOR_INDEXING;</span>
		}
	},
	
<span class="fc" id="L12">	QUEUED_FOR_INDEXING(&quot;QUEUED_FOR_INDEXING&quot;, &quot;Document id sent to the indexing queue to be processed.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc bfc" id="L15" title="All 2 branches covered.">			if (type == TransitionType.SUCCESS) return QUEUED_FOR_INDEXING_SUCCESS;</span>
<span class="pc bpc" id="L16" title="1 of 2 branches missed.">			else if (type == TransitionType.ERROR) return QUEUED_FOR_INDEXING_ERROR;</span>
<span class="nc" id="L17">			else return this;</span>
		}
	},
	
<span class="fc" id="L21">	QUEUED_FOR_INDEXING_SUCCESS(&quot;QUEUED_FOR_INDEXING_SUCCESS&quot;, &quot;Document id successfuly queued for indexing.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L24">			return DEQUEUED_FOR_INDEXING;</span>
		}
	},
	
<span class="fc" id="L28">	QUEUED_FOR_INDEXING_ERROR(&quot;QUEUED_FOR_INDEXING_ERROR&quot;, &quot;Error queueing recently created document id to be indexed.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L31">			return this;</span>
		}
	},
	
<span class="fc" id="L35">	DEQUEUED_FOR_INDEXING(&quot;DEQUEUED_FOR_INDEXING&quot;, &quot;Document dequeued for indexing.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L38">			return INDEXING;</span>
		}
	},
	
<span class="fc" id="L42">	INDEXING(&quot;INDEXING&quot;, &quot;Document under indexing operation.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc bfc" id="L45" title="All 2 branches covered.">			if (type == TransitionType.SUCCESS) return INDEXED_SUCCESS;</span>
<span class="pc bpc" id="L46" title="1 of 2 branches missed.">			else if (type == TransitionType.ERROR) return NOT_INDEXED_ERROR;</span>
<span class="nc" id="L47">			else return this;</span>
		}
	},
	
<span class="fc" id="L51">	INDEXED_SUCCESS(&quot;INDEXED_SUCCESS&quot;, &quot;Document successfully indexed&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L54">			return QUEUED_FOR_PROCESSING;</span>
		}
	},
	
<span class="fc" id="L58">	NOT_INDEXED_ERROR(&quot;DEQUEUED_FOR_INDEXING&quot;, &quot;Document dequeued for indexing.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L61">			return this;</span>
		}
	},
	
<span class="fc" id="L65">	QUEUED_FOR_PROCESSING(&quot;QUEUED_FOR_PROCESSING&quot;, &quot;Document id sent to the processing queue to have its keywords and sentences extracted.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc bfc" id="L68" title="All 2 branches covered.">			if (type == TransitionType.SUCCESS) return QUEUED_FOR_PROCESSING_SUCCESS;</span>
<span class="pc bpc" id="L69" title="1 of 2 branches missed.">			else if (type == TransitionType.ERROR) return QUEUED_FOR_PROCESSING_ERROR;</span>
<span class="nc" id="L70">			else return this;</span>
		}
	},
	
<span class="fc" id="L74">	QUEUED_FOR_PROCESSING_SUCCESS(&quot;QUEUED_FOR_PROCESSING_SUCCESS&quot;, &quot;Document id successfuly queued for processing keywords and sentendes.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L77">			return DEQUEUED_FOR_PROCESSING;</span>
		}
	},
	
<span class="fc" id="L81">	QUEUED_FOR_PROCESSING_ERROR(&quot;QUEUED_FOR_PROCESSING_ERROR&quot;, &quot;Error queueing document for processing keywords and sentences.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L84">			return this;</span>
		}
	},
	
<span class="fc" id="L88">	DEQUEUED_FOR_PROCESSING(&quot;DEQUEUED_FOR_PROCESSING&quot;, &quot;Document dequeued for processing keywords and sentences.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L91">			return PROCESSING_KEYWORDS;</span>
		}
	},
	
<span class="fc" id="L95">	PROCESSING_KEYWORDS(&quot;PROCESSING_KEYWORDS&quot;, &quot;Extracting document keyworkds.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc bfc" id="L98" title="All 2 branches covered.">			if (type == TransitionType.SUCCESS) return KEYWORDS_PROCESSED_SUCCESS;</span>
<span class="pc bpc" id="L99" title="1 of 2 branches missed.">			else if (type == TransitionType.ERROR) return KEYWORDS_NOT_PROCESSED_ERROR;</span>
<span class="nc" id="L100">			else return this;</span>
		}
	},
	
<span class="fc" id="L104">	KEYWORDS_PROCESSED_SUCCESS(&quot;KEYWORDS_PROCESSED_SUCCESS&quot;, &quot;Keywords successfuly extracted.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L107">			return PROCESSING_SENTENCES;</span>
		}
	},
	
<span class="fc" id="L111">	KEYWORDS_NOT_PROCESSED_ERROR(&quot;KEYWORDS_NOT_PROCESSED_ERROR&quot;, &quot;Error extracting keywords.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L114">			return this;</span>
		}
	},
	
<span class="fc" id="L118">	PROCESSING_SENTENCES(&quot;PROCESSING_SENTENCES&quot;, &quot;Extracting most relevant sentences.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc bfc" id="L121" title="All 2 branches covered.">			if (type == TransitionType.SUCCESS) return SENTENCES_PROCESSED_SUCCESS;</span>
<span class="pc bpc" id="L122" title="1 of 2 branches missed.">			else if (type == TransitionType.ERROR) return SENTENCES_NOT_PROCESSED_ERROR;</span>
<span class="nc" id="L123">			else return this;</span>
		}
	},
	
<span class="fc" id="L127">	SENTENCES_PROCESSED_SUCCESS(&quot;SENTENCES_PROCESSED_SUCCESS&quot;, &quot;Most relevant sentences successfuly extracted.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L130">			return this;</span>
		}
	},
	
<span class="fc" id="L134">	SENTENCES_NOT_PROCESSED_ERROR(&quot;SENTENCES_NOT_PROCESSED_ERROR&quot;, &quot;Error extracting most relevant sentences.&quot;) {</span>
		@Override
		public DocumentStatus transition(TransitionType type) {
<span class="fc" id="L137">			return this;</span>
		}
	};
	
	private String statusDescription;
	private String statusMessage;

<span class="fc" id="L144">	DocumentStatus(String statusDescription, String statusMessage) {</span>
<span class="fc" id="L145">		this.statusDescription = statusDescription;</span>
<span class="fc" id="L146">		this.statusMessage = statusMessage;</span>
<span class="fc" id="L147">	}</span>

	public String getStatusDescription() {
<span class="fc" id="L150">		return statusDescription;</span>
	}

	public String getStatusMessage() {
<span class="fc" id="L154">		return statusMessage;</span>
	}
	
	public abstract DocumentStatus transition(TransitionType type);
	
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.3.201901230119</span></div></body></html>