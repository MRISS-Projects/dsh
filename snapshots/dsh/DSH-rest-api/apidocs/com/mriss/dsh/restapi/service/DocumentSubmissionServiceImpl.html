<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_141) on Thu Apr 11 14:25:31 UTC 2019 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>DocumentSubmissionServiceImpl (DSH REST API 0.2.0-SNAPSHOT API)</title>
<meta name="date" content="2019-04-11">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DocumentSubmissionServiceImpl (DSH REST API 0.2.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DocumentSubmissionServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html" title="interface in com.mriss.dsh.restapi.service"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/mriss/dsh/restapi/service/DocumentSubmissionServiceImpl.html" target="_top">Frames</a></li>
<li><a href="DocumentSubmissionServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.mriss.dsh.restapi.service</div>
<h2 title="Class DocumentSubmissionServiceImpl" class="title">Class DocumentSubmissionServiceImpl</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.mriss.dsh.restapi.service.DocumentSubmissionServiceImpl</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html" title="interface in com.mriss.dsh.restapi.service">DocumentSubmissionService</a></dd>
</dl>
<hr>
<br>
<pre>@Service
 @RequestScope(proxyMode=TARGET_CLASS)
public class <span class="typeNameLabel">DocumentSubmissionServiceImpl</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>
implements <a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html" title="interface in com.mriss.dsh.restapi.service">DocumentSubmissionService</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionServiceImpl.html#DocumentSubmissionServiceImpl--">DocumentSubmissionServiceImpl</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionServiceImpl.html#getTokenFromDocument-java.io.InputStream-java.lang.String-boolean-">getTokenFromDocument</a></span>(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;originalDocumentContents,
                    <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;documentTitle,
                    boolean&nbsp;useCache)</code>
<div class="block">Gets a token (new or already used) based from the original contents
 of a file.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionServiceImpl.html#setMessageHandler-com.mriss.dsh.restapi.service.DocumentEnqueueMessageHandler-">setMessageHandler</a></span>(<a href="../../../../../com/mriss/dsh/restapi/service/DocumentEnqueueMessageHandler.html" title="interface in com.mriss.dsh.restapi.service">DocumentEnqueueMessageHandler</a>&nbsp;messageHandler)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionServiceImpl.html#storeDocumentAndQueueForProcessing--">storeDocumentAndQueueForProcessing</a></span>()</code>
<div class="block">This method should preferable be implemented to be asynchronous.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DocumentSubmissionServiceImpl--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DocumentSubmissionServiceImpl</h4>
<pre>public&nbsp;DocumentSubmissionServiceImpl()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTokenFromDocument-java.io.InputStream-java.lang.String-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTokenFromDocument</h4>
<pre>public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getTokenFromDocument(<a href="https://docs.oracle.com/javase/8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;originalDocumentContents,
                                   <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;documentTitle,
                                   boolean&nbsp;useCache)
                            throws <a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionException.html" title="class in com.mriss.dsh.restapi.service">DocumentSubmissionException</a></pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html#getTokenFromDocument-java.io.InputStream-java.lang.String-boolean-">DocumentSubmissionService</a></code></span></div>
<div class="block">Gets a token (new or already used) based from the original contents
 of a file. The method basically creates a new <a href="../../../../../$%7Bmain.server%7D/sites/snapshots/dsh/DSH-data/apidocs/com/mriss/dsh/data/models/Document.html?is-external=true" title="class or interface in com.mriss.dsh.data.models"><code>Document</code></a> and
 return its token for other clients test about processing. The method
 tests if the document already exists in the database by using a unique
 hash generated from the original file binary contents. If so, and
 the flag <code>useCache</code> is set, that old token associated with
 the found document is returned.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html#getTokenFromDocument-java.io.InputStream-java.lang.String-boolean-">getTokenFromDocument</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html" title="interface in com.mriss.dsh.restapi.service">DocumentSubmissionService</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>originalDocumentContents</code> - the document original contents</dd>
<dd><code>documentTitle</code> - the document title</dd>
<dd><code>useCache</code> - if set to <code>true</code>, the method should test if
 the document already exists in the database using its hash based on its 
 original binary contents. If document exists and the keywords and sentences document's
 fields are not empty, then the old token for the old document should be
 returned. If set to <code>false</code> no test is executed and a new token 
 for a newly generated document should be returned.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the token (new or old) of the document created (or retrieved from database)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionException.html" title="class in com.mriss.dsh.restapi.service">DocumentSubmissionException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../$%7Bmain.server%7D/sites/snapshots/dsh/DSH-data/apidocs/com/mriss/dsh/data/models/Document.html?is-external=true" title="class or interface in com.mriss.dsh.data.models"><code>Document</code></a></dd>
</dl>
</li>
</ul>
<a name="storeDocumentAndQueueForProcessing--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>storeDocumentAndQueueForProcessing</h4>
<pre>@Async
public&nbsp;void&nbsp;storeDocumentAndQueueForProcessing()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html#storeDocumentAndQueueForProcessing--">DocumentSubmissionService</a></code></span></div>
<div class="block">This method should preferable be implemented to be asynchronous. It should use
 a previously created document to store it in the documents database and then
 enqueue the document's data for later processing by other processes. The method
 should also test if an instance of <a href="../../../../../$%7Bmain.server%7D/sites/snapshots/dsh/DSH-data/apidocs/com/mriss/dsh/data/models/Document.html?is-external=true" title="class or interface in com.mriss.dsh.data.models"><code>Document</code></a> has the sentences and keywords
 collections not empty. If they are not empty, and cache settings are set,
 the method should do nothing.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html#storeDocumentAndQueueForProcessing--">storeDocumentAndQueueForProcessing</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html" title="interface in com.mriss.dsh.restapi.service">DocumentSubmissionService</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../$%7Bmain.server%7D/sites/snapshots/dsh/DSH-data/apidocs/com/mriss/dsh/data/models/Document.html?is-external=true" title="class or interface in com.mriss.dsh.data.models"><code>Document</code></a></dd>
</dl>
</li>
</ul>
<a name="setMessageHandler-com.mriss.dsh.restapi.service.DocumentEnqueueMessageHandler-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setMessageHandler</h4>
<pre>public&nbsp;void&nbsp;setMessageHandler(<a href="../../../../../com/mriss/dsh/restapi/service/DocumentEnqueueMessageHandler.html" title="interface in com.mriss.dsh.restapi.service">DocumentEnqueueMessageHandler</a>&nbsp;messageHandler)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DocumentSubmissionServiceImpl.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../com/mriss/dsh/restapi/service/DocumentSubmissionService.html" title="interface in com.mriss.dsh.restapi.service"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/mriss/dsh/restapi/service/DocumentSubmissionServiceImpl.html" target="_top">Frames</a></li>
<li><a href="DocumentSubmissionServiceImpl.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018&#x2013;2019 Marcelo Riss. All rights reserved.</small></p>
</body>
</html>