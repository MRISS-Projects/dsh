<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.8 at 2019-04-14 - 03:16:42 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190414" />
    <meta http-equiv="Content-Language" content="en" />
    <title>DSH - Document Smart Highlights &#x2013; Document Smart Highlights</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>DSH - Document Smart Highlights</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li class=""><a href="https://github.com/MRISS-Projects/dsh" class="externalLink" title="DSH at GitHub">DSH at GitHub</a><span class="divider">/</span></li>
    <li class="active ">Document Smart Highlights</li>
        <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-04-14 - 03:16:42</li>
          <li id="projectVersion" class="pull-right"><span class="divider">|</span>Version: 0.2.2-SNAPSHOT</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="https://github.com/orgs/MRISS-Projects/projects/1" class="externalLink" title="Project">Project</a></li>
      <li class="pull-right"><a href="https://github.com/MRISS-Projects/dsh/wiki" class="externalLink" title="Wiki">Wiki</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Documentation</li>
    <li><a href="index.html" title="Home"><span class="none"></span>Home</a>  </li>
    <li><a href="releases-history.html" title="Releases History"><span class="none"></span>Releases History</a>  </li>
          <li class="nav-header">Code Reports</li>
    <li><a href="github-report.html" title="GitHub Report"><span class="none"></span>GitHub Report</a>  </li>
    <li><a href="DSH-Coverage-Report/jacoco-aggregate/index.html" title="JaCoCo Code Coverage Report"><span class="none"></span>JaCoCo Code Coverage Report</a>  </li>
    <li><a href="surefire-report.html" title="Code Tests Report"><span class="none"></span>Code Tests Report</a>  </li>
    <li><a href="apidocs/index.html" title="Javadoc"><span class="none"></span>Javadoc</a>  </li>
    <li><a href="testapidocs/index.html" title="Test Javadoc"><span class="none"></span>Test Javadoc</a>  </li>
    <li><a href="xref/index.html" title="OnLine Code Navigation Report"><span class="none"></span>OnLine Code Navigation Report</a>  </li>
    <li><a href="xref-test/index.html" title="OnLine Test Code Navigation Report"><span class="none"></span>OnLine Test Code Navigation Report</a>  </li>
          <li class="nav-header">Parent Project</li>
    <li><a href="../index.html" title="mriss"><span class="none"></span>mriss</a>  </li>
          <li class="nav-header">Modules</li>
    <li><a href="dsh-test-dataset/index.html" title="DSH Test Data Set"><span class="none"></span>DSH Test Data Set</a>  </li>
    <li><a href="DSH-data/index.html" title="DSH-data"><span class="none"></span>DSH-data</a>  </li>
    <li><a href="DSH-rest-api/index.html" title="DSH REST API"><span class="none"></span>DSH REST API</a>  </li>
    <li><a href="DSH-doc-indexer-worker/index.html" title="DSH - Document Indexer Worker"><span class="none"></span>DSH - Document Indexer Worker</a>  </li>
    <li><a href="DSH-doc-analyser/index.html" title="DSH - Document Analyzer"><span class="none"></span>DSH - Document Analyzer</a>  </li>
    <li><a href="DSH-Coverage-Report/index.html" title="DSH Coverage Report Aggregation Module"><span class="none"></span>DSH Coverage Report Aggregation Module</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Document Smart Highlights</h1>
<p><a class="externalLink" href="https://travis-ci.org/MRISS-Projects/dsh"><img src="https://travis-ci.org/MRISS-Projects/dsh.svg?branch=staging-0.2.2-SNAPSHOT-RC" alt="Build Status" /></a> <img src="DSH-Coverage-Report/badges/jacoco.svg" alt="Jacoco" /></p>
<div class="section">
<h2><a name="Version"></a>Version</h2>
<p>0.2.2-SNAPSHOT - 20190414-031632</p></div>
<div class="section">
<h2><a name="Introduction"></a>Introduction</h2>
<p>Welcome to <b>DSH - Document Smart Highlights</b>. Document Smart Hightlights aims to provide a set of web services to allow uploading of PDF and HTML files and return a list of keywords and most relevant sentences. This system applies state of the art algorithms, using NLP techniques to produce both the list of keywords and most relevant sentences. This last one, using automatic document summarization techniques. More details at the <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/wiki">wiki</a>.</p>
<p>This project is distributed as source code. In order to generate the application to run it is needed to install the pre-requisites and compile. No binaries distribution is provided for now. The final application is a java <tt>.WAR</tt> file which can be] dropped in a standard java servlet container.</p>
<p>The goals for this project are basically two:</p>
<ol style="list-style-type: decimal">

<li>

<p>Implement a NLP based system to extract relevant information from PDF files in a potentially scalable fashion by using NoSql databases and Queues. This infrastructure stores requests and chain a worflow of operations (workers) which will do the operations of keyword and relevant sentences extraction. All provided as a web service REST API.</p>
</li>
<li>

<p>Learn concepts of NLP associated with scaleable cloud based REST API building. The technology used is java based, so as another goal here we can mention the build learning process using <a class="externalLink" href="http://spring.io/">Spring Framework</a> in order to build the API and infrastructure.</p>
</li>
</ol>
<p>As part of the goals is learning about technologies, comments and contributions are welcome. However, this is not a final product, application or concept. Just a point for experimentation and proofing.</p>
<p>If anyone out there is interested in contribute or apply this project on a more product-oriented environment, please get in touch through the email: <a class="externalLink" href="mailto:marcelo.riss@gmail.com">marcelo.riss@gmail.com</a>.</p>
<p>Wiki: <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/wiki">https://github.com/MRISS-Projects/dsh/wiki</a></p>
<p>Project Development Documentation: <a class="externalLink" href="https://mriss-projects.github.io/dsh-docs/">https://mriss-projects.github.io/dsh-docs/</a></p></div>
<div class="section">
<h2><a name="Package.2FFolders_Description"></a>Package/Folders Description</h2>
<ul>

<li><b>DSH-data</b>: data models definition for a <b>Document</b>, <b>Keyword</b> and <b>RelevantSentence</b>. Additionally this module defines a <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/wiki/Workflow">workflow</a> to map the status progress of a document processing request.</li>
<li><b>DSH-doc-analyzer</b>:  This is a container module to have the keyword and relevant sentences extractor modules. One extra module to dequeue documents to be analyzed and call the extractors.</li>
<li><b>DSH-doc-processor-worker</b>: The keyword extraction is executed by setting scores to each term in the document&#x2019;s text.</li>
<li><b>DSH-keyword-extractor</b>: The keyword extraction is executed by setting scores to each term in the document&#x2019;s text.</li>
<li><b>DSH-top-sentences-extractor</b>: The extraction of top sentences is achieved applying typical <a class="externalLink" href="https://en.wikipedia.org/wiki/Automatic_summarization">automatic summarization</a> techniques like extractive summarization or <a class="externalLink" href="https://en.wikipedia.org/wiki/Automatic_summarization#Keyphrase_extraction">key phrase extraction</a>.</li>
<li><b>DSH-doc-indexer-worker</b>: dequeues a document id from a queue, gets the document from the database and send it for indexing at <a class="externalLink" href="https://lucene.apache.org/solr/">SOLR</a>. Besides indexing, this module will extract the text, paragraphs, sentences on each paragraph and terms on each sentence.</li>
<li><b>DSH-rest-api</b>: this module is the real application to be deployed or installed on a servlet container. It is the entry point for document submission, document processing status querying and document processing results (keywords and relevant sentences) querying.</li>
<li><b>dsh-test-dataset</b>: default and common data set of files used for automated testing.</li>
</ul></div>
<div class="section">
<h2><a name="Installation"></a>Installation</h2>
<div class="section">
<h3><a name="Pre-requisites"></a>Pre-requisites</h3>
<ul>

<li>

<p>Java 1.8</p>
</li>
<li>

<p>Maven 3.3.9</p>
</li>
<li>

<p>MongoDB 3.4 (windows 10)</p>
</li>
<li>

<p>MongoDB 4.0.6 (Ubuntu 18.04 LTS)</p>
</li>
<li>

<p>RabbitMQ 3.6.14 (windows 10)</p>
</li>
<li>

<p>RabbitMQ 3.7.14 (Ubuntu 18.04 LTS)</p>
</li>
<li>

<p>Tomcat 8.0.X</p>
</li>
</ul></div>
<div class="section">
<h3><a name="Installing.2FBuilding_the_Application"></a>Installing/Building the Application</h3>
<div class="section">
<h4><a name="Java"></a>Java</h4>
<div class="section">
<h5><a name="Download_and_Installation"></a>Download and Installation</h5>
<ol style="list-style-type: decimal">

<li>

<p>Download a J2SE JDK 1.8 platform from <a class="externalLink" href="http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html">http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html</a>.</p>
<ol style="list-style-type: decimal">

<li><b>IMPORTANT NOTE</b>: Download and install <b>JDK, not a JRE</b>. Avoid downloading packages with J2EE and/or net beans. Search the download page for Java SE Development Kit (JDK) or JDK 8 Update XX.</li>
</ol>
</li>
<li>

<p>Windows</p>
<ol style="list-style-type: decimal">

<li>There should be a .exe windows installer. Just follow the instructions.</li>
</ol>
</li>
<li>

<p>Linux</p>
<ol style="list-style-type: decimal">

<li>Download the .tar.gz file. After downloading it, uncompress it at a folder of your preference.</li>
<li>Create a link. Open a command prompt, go to the JDK parent folder (the folder where you extract JDK into), and type:</li>
</ol>

<div>
<div>
<pre class="source">ln -s jdk1.8.0_XX java (where XX is the update number of your download)
</pre></div></div>
</li>
</ol></div>
<div class="section">
<h5><a name="Setting_environment_variables"></a>Setting environment variables</h5>
<div class="section">
<h6><a name="Linux"></a>Linux</h6>
<ol style="list-style-type: decimal">

<li>Open the file <tt>/home/[YOUR_USER]/.profile</tt>. This file might be hidden. If it does not appear at your home folder, using the file explorer, type <tt>Ctrl+h</tt>. Go to the end of the file and add:

<div>
<div>
<pre class="source">export JAVA_HOME=/your/jdk/parent/folder
</pre></div></div>
</li>
</ol>
<p>export PATH=$JAVA_HOME/bin:$PATH</p>

<div>
<div>
<pre class="source">###### Windows 

1. Open Control Panel go to System, Advanced system settings, `Environment
Variables` button.     
2. At the System Variables section, click New.
3. Set JAVA_HOME and point to the root of JDK folder.
4. Search for the variable named &lt;&lt;Path&gt;&gt; in the list, click on it and press 
Edit.
5. Prepend the value with:

</pre></div></div>

<p>%JAVA_HOME%\bin;</p>

<div>
<div>
<pre class="source">##### Verifying the installation

1. Open a command prompt and type:

</pre></div></div>

<p>java -version</p>

<div>
<div>
<pre class="source">2. The result should be something like:

 ```
java version &quot;1.8.0_45&quot;
Java(TM) SE Runtime Environment (build 1.8.0_45-b14)
Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)
</pre></div></div>
</div></div></div>
<div class="section">
<h4><a name="Maven"></a>Maven</h4>
<ol style="list-style-type: decimal">

<li>Dowload maven <b>3.3.9</b> from <a class="externalLink" href="http://archive.apache.org/dist/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.zip">http://archive.apache.org/dist/maven/maven-3/3.3.9/binaries/apache-maven-3.3.9-bin.zip</a></li>
<li>Unzip it on a folder of your preference</li>
<li>Set environment variables.</li>
<li>Linux
<ol style="list-style-type: decimal">

<li>Put it at your <tt>$HOME/.profile</tt> file

<div>
<div>
<pre class="source">export M2_HOME=/path/to/where/you/extracted/maven/apache-maven-3.3.9
export PATH=$M2_HOME/bin:$PATH
export MAVEN_OPTS='-Xmx1024m -XX:MaxPermSize=256m'
</pre></div></div>
</li>
<li>If you already have java set up, your <tt>.profile</tt>, it should look like this:

<div>
<div>
<pre class="source">export JAVA_HOME=/your/jdk/parent/folder/java
export M2_HOME=/path/to/where/you/extracted/maven/apache-maven-3.3.9
export PATH=$JAVA_HOME/bin:$M2_HOME/bin:$PATH
export MAVEN_OPTS='-Xmx1024m'
</pre></div></div>
</li>
<li>Logout and login again.</li>
<li>Test by opening a terminal and typing:

<div>
<div>
<pre class="source">mvn -version
</pre></div></div>
</li>
<li>The result should be similar to:

<div>
<div>
<pre class="source">Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0
Apache Maven 3.3.1 (cab6659f9874fa96462afef40fcf6bc033d58c1c; 2015-03-13T17:10:27-03:00)
Maven home: /home/riss/apps/maven
Java version: 1.8.0_45, vendor: Oracle Corporation
Java home: /home/riss/apps/jdk1.8.0_45/jre
Default locale: en_US, platform encoding: UTF-8
OS name: &quot;linux&quot;, version: &quot;3.13.0-55-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;
</pre></div></div>
</li>
<li>Windows</li>
<li>Open Control Panel go to System, Advanced system settings, <b>Environment Variables</b> button.</li>
<li>At the System Variables section, click New.</li>
<li>Set <tt>M2_HOME</tt> and point to the root of maven folder.</li>
<li>Search for the variable <tt>Path</tt> in the list, click on it and press Edit.</li>
<li>Put the maven bin folder right after java home:

<div>
<div>
<pre class="source">%JAVA_HOME%\bin;%M2_HOME%\bin;
</pre></div></div>
</li>
<li>Set the variable <tt>MAVEN_OPTS</tt>.

<div>
<div>
<pre class="source">MAVEN_OPTS=-Xmx1024m
</pre></div></div>
</li>
<li>The result should be similar to:

<div>
<div>
<pre class="source">Apache Maven 3.3.9 (0728685237757ffbf44136acec0402957f723d9a; 2013-09-17 12:22:22-0300)
Maven home: C:\data\apache-maven-3.3.9
Java version: 1.8.0_45, vendor: Oracle Corporation
Java home: C:\Program Files\Java\jdk1.8.0_45\jre
Default locale: en_US, platform encoding: Cp1252
OS name: &quot;windows 8.1&quot;, version: &quot;6.3&quot;, arch: &quot;amd64&quot;, family: &quot;dos&quot;
</pre></div></div>
</li>
</ol>
</li>
</ol></div>
<div class="section">
<h4><a name="MongoDB"></a>MongoDB</h4>
<div class="section">
<h5><a name="Windows"></a>Windows</h5>
<ol style="list-style-type: decimal">

<li>Install MongoDB using the instructions at <a class="externalLink" href="https://docs.mongodb.com/v3.4/tutorial/install-mongodb-on-windows/">this link</a></li>
<li>Enable security following general guidelines at <a class="externalLink" href="https://medium.com/@raj_adroit/mongodb-enable-authentication-enable-access-control-e8a75a26d332">this link</a></li>
<li>Start MongoDB:

<div>
<div>
<pre class="source">&quot;C:\Program Files\MongoDB\Server\3.4\bin\mongod.exe&quot;
</pre></div></div>
</li>
<li>In another prompt connect to MongoDB</li>
</ol>

<div>
<div>
<pre class="source">&quot;C:\Program Files\MongoDB\Server\3.4\bin\mongo.exe&quot;
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Create super user</li>
</ol>

<div>
<div>
<pre class="source">$ use admin
$ db.createUser(
{
  user: &quot;superAdmin&quot;,
  pwd: &quot;[your admin password]&quot;,
  roles: [ { role: &quot;root&quot;, db: &quot;admin&quot; } ]
 })   
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Disconnect and re-connect at MongoDB as super user:</li>
</ol>

<div>
<div>
<pre class="source">connect-mongo-super-user.bat [your admin password]
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Create user access (readWrite) for specific dsh database</li>
</ol>

<div>
<div>
<pre class="source">$ use dsh
$ db.createUser(
  {
   user: &quot;dshuser&quot;,
   pwd: &quot;[your password]&quot;,
   roles: [ &quot;readWrite&quot;]
  })   
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Disconnect and re-connect at MongoDB as specific user:</li>
</ol>

<div>
<div>
<pre class="source">connect-mongo.bat [your dshuser passoword]
</pre></div></div>
</div>
<div class="section">
<h5><a name="Linux_Ubuntu_18.04_LTS"></a>Linux Ubuntu 18.04 LTS</h5>
<ol style="list-style-type: decimal">

<li>Install MongoDB following the instructions at <a class="externalLink" href="https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/">https://docs.mongodb.com/manual/tutorial/install-mongodb-on-ubuntu/</a></li>
<li>Enable security following general guidelines at <a class="externalLink" href="https://medium.com/@raj_adroit/mongodb-enable-authentication-enable-access-control-e8a75a26d332">this link</a></li>
<li>Start MongoDB service</li>
</ol>

<div>
<div>
<pre class="source">sudo service mongod start
</pre></div></div>

<ol style="list-style-type: decimal">

<li>In another prompt connect to MongoDB</li>
</ol>

<div>
<div>
<pre class="source">mongo --host 127.0.0.1:27017
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Create super user</li>
</ol>

<div>
<div>
<pre class="source">$ use admin
$ db.createUser(
{
  user: &quot;superAdmin&quot;,
  pwd: &quot;[your admin password]&quot;,
  roles: [ { role: &quot;root&quot;, db: &quot;admin&quot; } ]
 })   
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Disconnect and re-connect at MongoDB as super user:</li>
</ol>

<div>
<div>
<pre class="source">./connect-mongo-super-user.sh [your admin password]
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Create user access (readWrite) for specific dsh database</li>
</ol>

<div>
<div>
<pre class="source">$ use dsh
$ db.createUser(
  {
   user: &quot;dshuser&quot;,
   pwd: &quot;[your password]&quot;,
   roles: [ &quot;readWrite&quot;]
  })   
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Disconnect and re-connect at MongoDB as specific user:</li>
</ol>

<div>
<div>
<pre class="source">./connect-mongo.sh [your dshuser passoword]
</pre></div></div>
</div></div>
<div class="section">
<h4><a name="RabitMQ"></a>RabitMQ</h4>
<div class="section">
<h5><a name="Windows"></a>Windows</h5>
<ol style="list-style-type: decimal">

<li>Follow the instructions at <a class="externalLink" href="http://www.rabbitmq.com/install-windows.html">http://www.rabbitmq.com/install-windows.html</a></li>
<li>Enable the ports mentioned at the link above at the firewall.</li>
<li>Enable the management plugin:</li>
</ol>

<div>
<div>
<pre class="source">rabbitmq-plugins.bat enable rabbitmq_management
rabbitmq-service.bat stop  
rabbitmq-service.bat remove	
rabbitmq-service.bat install  
rabbitmq-service.bat start   
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Test it with <tt>http://localhost:15672/mgmt</tt>. User: guest. Password: guest.</li>
</ol></div>
<div class="section">
<h5><a name="Linux_Ubuntu_18.04_LTS"></a>Linux Ubuntu 18.04 LTS</h5>
<ol style="list-style-type: decimal">

<li>Follow the instructions at <a class="externalLink" href="https://www.rabbitmq.com/install-debian.html">https://www.rabbitmq.com/install-debian.html</a>
<ol style="list-style-type: decimal">

<li>As Ubunt has a 3.5.x version it is better to download the .deb for version 3.7.x from link above</li>
<li>Or follow the instructions at the link and add RabbitMQ Ubuntu repositories before to run the <tt>apt-get install</tt>.</li>
</ol>
</li>
<li>Enable the management plugin:</li>
</ol>

<div>
<div>
<pre class="source">sudo rabbitmq-plugins enable rabbitmq_management
service rabbitmq-server stop  
service rabbitmq-server start
</pre></div></div>

<ol style="list-style-type: decimal">

<li>Test it with <tt>http://localhost:15672/mgmt</tt>. User: guest. Password: guest.</li>
</ol></div></div>
<div class="section">
<h4><a name="Building_From_Sources"></a>Building From Sources</h4>
<ol style="list-style-type: decimal">

<li>In order to build, both MongoDB and RabbitMQ services should be running.</li>
<li>Maven development user settings should be correctly configured (see configuration section below)</li>
<li>At the root dsh folder type:</li>
</ol>

<div>
<div>
<pre class="source">./install-parent-pom.sh
mvn clean install
</pre></div></div>
</div>
<div class="section">
<h4><a name="Tomcat"></a>Tomcat</h4>
<div class="section">
<h5><a name="Windows"></a>Windows</h5>
<ol style="list-style-type: decimal">

<li>Download Tomcat 8.0.X 32-bit/64-bit Windows Service Installer at <a class="externalLink" href="https://tomcat.apache.org/download-80.cgi">https://tomcat.apache.org/download-80.cgi</a>. This will install Tomcat as a windows service.</li>
<li>Start Tomcat windows service using windows services application.</li>
<li>Look at the address: <a class="externalLink" href="http://localhost:8080">http://localhost:8080</a></li>
</ol></div>
<div class="section">
<h5><a name="Linux_Ubuntu_19.04_LSTS"></a>Linux Ubuntu 19.04 LSTS</h5>
<ol style="list-style-type: decimal">

<li>Download Tomcat 8.0.x .zip or .tar.gz file at <a class="externalLink" href="https://tomcat.apache.org/download-80.cgi">https://tomcat.apache.org/download-80.cgi</a>.</li>
<li>Unpack the contents on a folder.</li>
<li>Go to the <tt>bin</tt> folder and type <tt>./startup.sh</tt>.</li>
<li>Look at the address: <a class="externalLink" href="http://localhost:8080">http://localhost:8080</a></li>
</ol></div></div></div></div>
<div class="section">
<h2><a name="Configuration"></a>Configuration</h2>
<div class="section">
<h3><a name="MongoDB_Access_Properties"></a>MongoDB Access Properties</h3>
<p>Edit or create the maven user <tt>settings.xml</tt> file typically at <tt>$HOME/.m2</tt> (or <tt>%HOMEPATH%\.m2</tt> at windows) folder and add a default activated profile similar to this:</p>

<div>
<div>
<pre class="source">&lt;profile&gt;
	&lt;id&gt;development-properties&lt;/id&gt;
	&lt;activation&gt;
		&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
	&lt;/activation&gt;
	&lt;properties&gt;
		&lt;mongo.host&gt;localhost&lt;/mongo.host&gt;
		&lt;mongo.port&gt;27017&lt;/mongo.port&gt;
		&lt;mongo.user&gt;dshuser&lt;/mongo.user&gt;
		&lt;mongo.password&gt;[password you have configured in the steps above when installing mongo]&lt;/mongo.password&gt;
	&lt;/properties&gt;
&lt;/profile&gt;
</pre></div></div>

<p>Or add the <tt>properties</tt> section at any default activated profile already present at <tt>settings.xml</tt> file.</p></div>
<div class="section">
<h3><a name="Tomcat_Admin_User_Configuration"></a>Tomcat Admin User Configuration</h3>
<p>Stop Tomcat if it is already started, and edit the file <tt>TOMCAT_HOME/conf/tomcat-users.xml</tt>. If the <tt>tomcat-users</tt> tag is empty or with all elements commented, add the following content inside the <tt>&lt;tomcat-users&gt;</tt> tag.</p>

<div>
<div>
<pre class="source">	&lt;role rolename=&quot;tomcat&quot; /&gt;  
	&lt;role rolename=&quot;manager-gui&quot; /&gt;  
	&lt;role rolename=&quot;manager-script&quot; /&gt;  
	&lt;role rolename=&quot;admin-gui&quot; /&gt;  
				  
	&lt;user username=&quot;admin&quot; password=&quot;[your admin password]&quot; roles=&quot;tomcat,manager-gui,manager-script,admin-gui&quot; /&gt;
	&lt;user username=&quot;tomcat&quot; password=&quot;[your tomcat user password]&quot; roles=&quot;tomcat,manager-gui,manager-script,admin-gui&quot; /&gt;
</pre></div></div>

<p>Replace the admin and tomcat&#x2019;s password with any desired password.</p></div></div>
<div class="section">
<h2><a name="Usage"></a>Usage</h2>
<div class="section">
<h3><a name="Running_Application_from_Eclipse_Embedded_Tomcat"></a>Running Application from Eclipse Embedded Tomcat</h3>
<p>The module <tt>DSH-rest-api</tt> is a web application. The type tag in pom.xml file is .war. Thus the first step is to install a Tomcat (8.0.X) at <a class="externalLink" href="https://tomcat.apache.org/download-80.cgi">https://tomcat.apache.org/download-80.cgi</a>. After that, if you have Eclipse Oxygen JEE version correctly installed and configured, then is just a matter of showing the Servers view and adding a new server. At eclipse menu, follow the path: <tt>Window -&gt; Show View -&gt; Other -&gt; Servers -&gt; Server</tt>. When the <tt>Servers</tt> view opens, add a new Tomcat Server. You will need to have a Tomcat already installed at your system, since eclipse will ask for an installed Tomcat root directory. When creating a new server inside eclipse, it will show the DSH-rest-api as a potential project to be installed in that server.</p>
<p>After having the DSH-rest-api inside the server, configure the server <tt>startup</tt> and <tt>shutdown</tt> timeouts to something like 120s each.</p>
<p>Start the server and access the application swagger UI at: <tt>http://localhost:8080/DSH-rest-api/swagger-ui.html</tt>.</p></div>
<div class="section">
<h3><a name="Using_Application_.war_File_on_a_Servlet_Container"></a>Using Application .war File on a Servlet Container</h3>
<p>After the build, the folder DSH-rest-api/target should have a file named DSH-rest-api-[version].war. That war file can be dropped to a servlet container to be used as a web application. At this moment the server having the servlet container should be the same having MongoDB and RabbitMQ installed, up and running.</p>
<div class="section">
<h4><a name="Using_Tomcat_Application_Manager"></a>Using Tomcat Application Manager</h4>
<p>Access the Tomcat&#x2019;s manager usually at the address <tt>http://localhost:8080/manager/html</tt>. The browser will ask for user and password. Enter the user and password configured at the <tt>TOMCAT_HOME/conf/tomcat-users.xml</tt> (see the configuration section above).</p>
<p>After login, at the Deploy section, fulfill the fields:</p>

<div>
<div>
<pre class="source">Context Path: 	DSH-rest-api
WAR or Directory URL:	[absolute path to the generated DSH-rest-api-&lt;version&gt;.war file] 
</pre></div></div>

<p>You can also upload the war file from <tt>DSH-rest-api/target</tt> folder, using the <tt>Choose File</tt> button at the Tomcat&#x2019;s manager application. However, in this case, it is recommenDed to rename the file <tt>DSH-rest-api-&lt;version&gt;.war</tt> to just <tt>DSH-rest-api.war</tt> just to not have the version name associated with the web application, which will then be used to access the application at the web browser.</p>
<p>Start the server and access the application swagger UI at: <tt>http://localhost:8080/DSH-rest-api/swagger-ui.html</tt>.</p></div>
<div class="section">
<h4><a name="Just_Dropping_Application_.war_File"></a>Just Dropping Application .war File</h4>
<p>Rename the file <tt>DSH-rest-api/target/DSH-rest-api-&lt;version&gt;.war</tt> to <tt>DSH-rest-api.war</tt> and drop it at Tomcat&#x2019;s <tt>webapps</tt> folder. Restart Tomcat if needed.</p>
<p>Start the server and access the application swagger UI at: <tt>http://localhost:8080/DSH-rest-api/swagger-ui.html</tt>.</p></div></div>
<div class="section">
<h3><a name="Running_Application_Using_Spring_Boot_Maven_Plugin"></a>Running Application Using Spring Boot Maven Plugin</h3>
<p>Go to <tt>DSH-rest-api</tt> module root folder project, by using <tt>cd DSH-rest-api</tt>  at the sources root, and run:</p>

<div>
<div>
<pre class="source">mvn spring-boot:run
</pre></div></div>

<p>Wait until the application boots up. Typically when the following output is present:</p>

<div>
<div>
<pre class="source">.
.
.
08:37:47.665 [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 2147483647
08:37:47.665 [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Context refreshed
08:37:47.702 [main] INFO  s.d.s.w.p.DocumentationPluginsBootstrapper - Found 1 custom documentation plugin(s)
08:37:47.746 [main] INFO  s.d.s.w.s.ApiListingReferenceScanner - Scanning for api listing references
08:37:47.962 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler [&quot;http-nio-8080&quot;]
08:37:47.979 [main] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler [&quot;http-nio-8080&quot;]
08:37:47.984 [main] INFO  o.a.tomcat.util.net.NioSelectorPool - Using a shared selector for servlet write/read
08:37:48.016 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http)
08:37:48.022 [main] INFO  c.m.dsh.restapi.DshRestApplication - Started DshRestApplication in 9.385 seconds (JVM running for 18.084)
08:37:48.025 [main] INFO  c.m.dsh.restapi.DshRestApplication - Main application run!!!
</pre></div></div>

<p>Start the server and access the application swagger UI at: <tt>http://localhost:8080/swagger-ui.html</tt>.</p></div>
<div class="section">
<h3><a name="Swagger_User_Interface"></a>Swagger User Interface</h3>
<p>Swagger UI has two methods for a document resource:</p>
<ul>

<li>

<p>submit: uploads a PDF file and returns a token.</p>
</li>
<li>

<p>status: use the token returned in the first method to ask for the document processing status. At the moment the only status would be <tt>QUEUED_FOR_INDEXING_SUCCESS</tt>.</p>
</li>
</ul>
<p><img src="/src/site/resources/images/swagger-ui.jpg" alt="Swagger UI" /></p>
<p>In order to use the methods, click on the method and after in the <tt>Try it out</tt> button (firstly for the submit method).</p>
<p>A new form will open with the fields to fulfill. In case of submit you will need to choose a file to upload and inform its title. In case of <tt>status</tt>, you just needs to enter the the token returned by the previous <tt>submit</tt> method call.</p></div></div>
<div class="section">
<h2><a name="Release_Notes"></a>Release Notes</h2>
<div class="section">
<h3><a name="Version_0.2.2-SNAPSHOT"></a>Version 0.2.2-SNAPSHOT</h3>
<p>| # | Type | Summary | Assignee | Reporter | Updated | | - | &#x2014;- | &#x2014;&#x2014;- | &#x2014;&#x2014;&#x2013; | &#x2014;&#x2014;&#x2013; | &#x2014;&#x2014;- | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/59">59</a> | enhancement | Add jacoco coverage plugin and report. | mriss | mriss | 4/12/19 |</p></div>
<div class="section">
<h3><a name="Version_0.2.1"></a>Version 0.2.1</h3>
<p>| # | Type | Summary | Assignee | Reporter | Updated | | - | &#x2014;- | &#x2014;&#x2014;- | &#x2014;&#x2014;&#x2013; | &#x2014;&#x2014;&#x2013; | &#x2014;&#x2014;- | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/58">58</a> | bug | stage is being executed at master during release process | mriss | mriss | 4/11/19 |</p></div>
<div class="section">
<h3><a name="Version_0.2.0"></a>Version 0.2.0</h3>
<p>| # | Type | Summary | Assignee | Reporter | Updated | | - | &#x2014;- | &#x2014;&#x2014;- | &#x2014;&#x2014;&#x2013; | &#x2014;&#x2014;&#x2013; | &#x2014;&#x2014;- | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/40">40</a> | task | Add DSH to travis CI following settings from changes plugin. | mriss | mriss | 4/11/19 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/39">39</a> | task | Publish dsh site on gh-pages branch instead of another repo. | null | mriss | 3/18/19 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/41">41</a> | task | Move project from organization to the git project dsh. Change next milestone to 0.2.0 | mriss | mriss | 3/18/19 |</p></div>
<div class="section">
<h3><a name="Version_0.0.1"></a>Version 0.0.1</h3>
<p>| # | Type | Summary | Assignee | Reporter | Updated | | - | &#x2014;- | &#x2014;&#x2014;- | &#x2014;&#x2014;&#x2013; | &#x2014;&#x2014;&#x2013; | &#x2014;&#x2014;- | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/32">32</a> | task | Configure DSH to use git as scm tool and proceed to release. | mriss | mriss | 3/15/19 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/38">38</a> | task | Configure distribution management to local nexus and test snapshot deploy with deployment profile. | mriss | mriss | 3/1/19 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/37">37</a> | task | Replace release notes and release history properties using deployment profile. | mriss | mriss | 10/14/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/36">36</a> | task | Replace version property ad readme and commit using deployment profile | mriss | mriss | 2/19/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/35">35</a> | task | Test maven site publication using github using deployment profile. | mriss | mriss | 2/15/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/34">34</a> | task | Configure changes plugin and changes report to use github issues and test maven site generation. | mriss | mriss | 2/12/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/33">33</a> | task | Configure maven scm to use git | mriss | mriss | 2/12/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/10">10</a> | task | Test rest API module inside tomcat server inside eclipse as a war distribution. | mriss | mriss | 2/11/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/30">30</a> | task | Configure Swagger | mriss | mriss | 2/4/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/11">11</a> | task | Create and test rest service layer: | mriss | mriss | 1/16/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/23">23</a> | task | Add message and error handling for RabbitMQ queue submission. | mriss | mriss | 1/9/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/22">22</a> | task | Create document submission workflow  | mriss | mriss | 1/6/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/28">28</a> | task | Create document status enumeration and define workflow transition and validation class. | mriss | mriss | 1/6/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/27">27</a> | task | Add extra columns at the Document model class for status description and status message. | mriss | mriss | 1/6/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/25">25</a> | task | Test message sending exception. | mriss | mriss | 1/4/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/17">17</a> | task | Create web service logic to generate token and return it while starting the document storage at mongo asynchronously. | mriss | mriss | 1/3/18 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/9">9</a> | task | Create services: | mriss | mriss | 12/19/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/21">21</a> | task | Create mongodb storage service. | mriss | mriss | 12/19/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/20">20</a> | task | Update documentation with RabbitMQ installation. | mriss | mriss | 12/19/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/18">18</a> | task | Create logic to enqueue the mongo document id to RabbitMQ using Spring integration example app. | mriss | mriss | 12/18/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/19">19</a> | task | Feature/mongo dao | mriss | mriss | 12/10/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/15">15</a> | task | Create and test MongoDAO | null | mriss | 12/10/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/16">16</a> | task | Test models | mriss | mriss | 12/9/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/12">12</a> | task | Create dsh-test-dataset module having all PDF and HTML files used for testing. | mriss | mriss | 12/8/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/8">8</a> | task | * Create model for the documents with following columns: | mriss | mriss | 12/7/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/7">7</a> | task | * Create package structure | null | mriss | 12/7/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/3">3</a> | task | Create parent pom | mriss | mriss | 12/7/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/5">5</a> | task | Create a model module to have the model classes of keywords, sentences and documents. | mriss | mriss | 12/7/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/6">6</a> | task | Organize dependency management among modules. | mriss | mriss | 12/7/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/2">2</a> | task | Create project structure using spring boot | mriss | mriss | 12/7/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/4">4</a> | task | Complete project structure | mriss | mriss | 12/7/17 | | <a class="externalLink" href="https://github.com/MRISS-Projects/dsh/issues/1">1</a> | task | Install RabbitMQ | mriss | mriss | 11/29/17 |</p></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2018&#x2013;2019
<a href="">Marcelo Riss</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>